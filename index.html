<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="div1"></div>
    <div id="div2"></div>
    <div id="div3"></div>
    <script src="./base64.js"></script>
    <script type="module">
        import changeimg from './mapping-image-multi-function/index.js'
        /**
         * imageUrlToBase64({ src, width, height, callback, quality, type, decompression })   默认取 new 示列的配置项  url  转  base64
         * photoCompress({ src, width, height, callback, quality, type, decompression })  默认取 new 示列的配置项  base64  转 压缩后的base64
         * @params  base64Url 图片地址
         * @params  src 图片地址
         * @params  decompression 是否一键生成压缩后的base64
         * @params  width 图片宽度
         * @params  height 图片高度
         * @params  type 图片类型
         * @params  callback 回调函数 返回地址
        */
        let imgUrl = 'https://dss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1723223319,3840103545&fm=111&gp=0.jpg'
        let createModel = new changeimg({
            base64Url: '',
            src: '',
            decompression: true,
            width: '',
            height: '',
            quality: 1,
            type: "image/jpeg",
            callback: (val) => {
                console.log(val);
            }
        })
        // 传入 src   decompression默认取配置项的false  这样转换出来的就是一个base64编码
        createModel.imageUrlToBase64({
            src: imgUrl, width: 200, height: 200, callback: (val) => {
                console.log(val);
                let div1 = document.getElementById('div1');
                let img = document.createElement('img');
                img.src = val;
                div1.appendChild(img);
                let p = document.createElement('p');
                let p1 = document.createElement('p');
                p.innerHTML = `我的宽度是${img.width}`;
                p1.innerHTML = `我的高度是${img.height}`;
                div1.appendChild(p);
                div1.appendChild(p1);

            }
        })
        // 传入  base64Url  这样就压缩出来一个体积较小的图片  quality 值越小越模糊同时体积越小
        createModel.photoCompress({
            base64Url: base64Img,
            quality: 0.1,
            callback: (val) => {
                console.log(val);
            }
        })
    </script>
</body>

</html>